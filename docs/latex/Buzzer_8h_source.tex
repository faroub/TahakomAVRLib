\hypertarget{Buzzer_8h_source}{}\doxysection{Buzzer.\+h}
\label{Buzzer_8h_source}\index{Buzzer.h@{Buzzer.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001 }
\DoxyCodeLine{00058 \textcolor{preprocessor}{\#ifndef BUZZER\_H}}
\DoxyCodeLine{00059 \textcolor{preprocessor}{\#define BUZZER\_H}}
\DoxyCodeLine{00060 \textcolor{preprocessor}{\#include "\mbox{\hyperlink{ha__base_8h}{ha\_base.h}}"}}
\DoxyCodeLine{00061 \textcolor{preprocessor}{\#include "\mbox{\hyperlink{Pin_8h}{Pin.h}}"}}
\DoxyCodeLine{00062 \textcolor{preprocessor}{\#include "\mbox{\hyperlink{TimerCounter_8h}{TimerCounter.h}}"}}
\DoxyCodeLine{00063 }
\DoxyCodeLine{\Hypertarget{Buzzer_8h_source_l00064}\mbox{\hyperlink{namespacecomponent}{00064}} \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacecomponent}{component}}}
\DoxyCodeLine{00065 \{}
\DoxyCodeLine{00066 }
\DoxyCodeLine{00067 }
\DoxyCodeLine{00068 }
\DoxyCodeLine{\Hypertarget{Buzzer_8h_source_l00069}\mbox{\hyperlink{classcomponent_1_1Buzzer}{00069}} \textcolor{keyword}{class }\mbox{\hyperlink{classcomponent_1_1Buzzer}{Buzzer}}}
\DoxyCodeLine{00070 \{}
\DoxyCodeLine{00071 }
\DoxyCodeLine{00072 \textcolor{keyword}{public}:}
\DoxyCodeLine{00073 }
\DoxyCodeLine{00074     \mbox{\hyperlink{classcomponent_1_1Buzzer_a8dcc17d0e52de5d55f90fc03b11ed85a}{Buzzer}}(\textcolor{keyword}{const} \mbox{\hyperlink{classio_1_1Pin}{io::Pin}} \&ar\_pin);}
\DoxyCodeLine{00075 }
\DoxyCodeLine{00076     \mbox{\hyperlink{classcomponent_1_1Buzzer_a898695987569dc22a364056b6411fe15}{\string~Buzzer}}();}
\DoxyCodeLine{00077 }
\DoxyCodeLine{00078     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcomponent_1_1Buzzer_a8d4a35e2876cea66888cdc2233871b53}{buzz}}(\textcolor{keyword}{const} uint16\_t \&ar\_period\_us , \textcolor{keyword}{const} uint16\_t \&ar\_duration\_ms);}
\DoxyCodeLine{00079 }
\DoxyCodeLine{00080     \textcolor{keyword}{template}<\textcolor{keyword}{typename} TC>}
\DoxyCodeLine{\Hypertarget{Buzzer_8h_source_l00081}\mbox{\hyperlink{classcomponent_1_1Buzzer_a2880beed1afc6b93c0a9931210f25535}{00081}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcomponent_1_1Buzzer_a2880beed1afc6b93c0a9931210f25535}{buzz}}(TC \&ar\_timerCounter,}
\DoxyCodeLine{00082               \textcolor{keyword}{const} uint16\_t \&ar\_period\_us,}
\DoxyCodeLine{00083               uint16\_t \&ar\_duration\_ms,}
\DoxyCodeLine{00084               \textcolor{keyword}{const} \mbox{\hyperlink{namespacecore_a1bbe9e05be92da10bbb8ef7805df1419}{core::channel}} \&ar\_channel=\mbox{\hyperlink{namespacecore_a1bbe9e05be92da10bbb8ef7805df1419a7fc56270e7a70fa81a5935b72eacbe29}{core::channel::A}},}
\DoxyCodeLine{00085               \textcolor{keyword}{const} \mbox{\hyperlink{namespacecore_ae157e8ac43bcf6dc8f7115c4ccacb2e1}{core::clockSource}} \&ar\_clockSource= \mbox{\hyperlink{namespacecore_ae157e8ac43bcf6dc8f7115c4ccacb2e1a97fb148ab1accd5462d69022d83b0ced}{core::clockSource::PS\_64}}}
\DoxyCodeLine{00086               )}
\DoxyCodeLine{00087     \{}
\DoxyCodeLine{00088         ar\_timerCounter.selectOperationMode(\mbox{\hyperlink{namespacecore_a5fa1c13ba2de3f8eacf4d56627b359b4a9a9708b23d4611d606d2cab182ad99e5}{core::operationMode::CTC\_OCR}});}
\DoxyCodeLine{00089         ar\_timerCounter.selectCompareOutputMode(ar\_channel, \mbox{\hyperlink{namespacecore_abf164abe46881599e64640a064d89950a41f984bb082af806e510740db289125d}{core::compareOutputMode::toggle}});}
\DoxyCodeLine{00090         ar\_timerCounter.setCounter(0);}
\DoxyCodeLine{00091         ar\_timerCounter.setOutputCompareRegister(ar\_channel, ar\_period\_us);}
\DoxyCodeLine{00092         \textcolor{comment}{// start timer}}
\DoxyCodeLine{00093         ar\_timerCounter.start();}
\DoxyCodeLine{00094         \textcolor{comment}{// wait for the pitch duration}}
\DoxyCodeLine{00095         \textcolor{keywordflow}{while} (ar\_duration\_ms) \{}
\DoxyCodeLine{00096           \_delay\_ms(1);}
\DoxyCodeLine{00097           ar\_duration\_ms-\/-\/;}
\DoxyCodeLine{00098         \}}
\DoxyCodeLine{00099         \textcolor{comment}{// no buzz}}
\DoxyCodeLine{00100         ar\_timerCounter.selectCompareOutputMode(ar\_channel, \mbox{\hyperlink{namespacecore_abf164abe46881599e64640a064d89950afea087517c26fadd409bd4b9dc642555}{core::compareOutputMode::normal}});}
\DoxyCodeLine{00101         ar\_timerCounter.stop();}
\DoxyCodeLine{00102     \}}
\DoxyCodeLine{00103 }
\DoxyCodeLine{00104 }
\DoxyCodeLine{00105 \textcolor{keyword}{protected}:}
\DoxyCodeLine{00106 }
\DoxyCodeLine{00107 \textcolor{keyword}{private}:}
\DoxyCodeLine{00108 }
\DoxyCodeLine{\Hypertarget{Buzzer_8h_source_l00109}\mbox{\hyperlink{classcomponent_1_1Buzzer_aa5d256147974a597dd669bac84b31903}{00109}}     \mbox{\hyperlink{classio_1_1Pin}{io::Pin}} \mbox{\hyperlink{classcomponent_1_1Buzzer_aa5d256147974a597dd669bac84b31903}{m\_pin}}; }
\DoxyCodeLine{00112 \};}
\DoxyCodeLine{00113 \}}
\DoxyCodeLine{00114 }
\DoxyCodeLine{00115 }
\DoxyCodeLine{00116 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
