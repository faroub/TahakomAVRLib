\hypertarget{SPI_8h_source}{}\doxysection{S\+P\+I.\+h}
\label{SPI_8h_source}\index{SPI.h@{SPI.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001 }
\DoxyCodeLine{00048 \textcolor{preprocessor}{\#ifndef SPI\_H}}
\DoxyCodeLine{00049 \textcolor{preprocessor}{\#define SPI\_H}}
\DoxyCodeLine{00050 \textcolor{preprocessor}{\#include "\mbox{\hyperlink{ha__base_8h}{ha\_base.h}}"}}
\DoxyCodeLine{00051 \textcolor{preprocessor}{\#include "\mbox{\hyperlink{Pin_8h}{Pin.h}}"}}
\DoxyCodeLine{00052 }
\DoxyCodeLine{00053 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespaceio}{io}}}
\DoxyCodeLine{00054 \{}
\DoxyCodeLine{00055 }
\DoxyCodeLine{\Hypertarget{SPI_8h_source_l00056}\mbox{\hyperlink{namespaceio_a6250896181d67e5c143f15781f518a9c}{00056}} \textcolor{keyword}{enum class} \mbox{\hyperlink{namespaceio_a6250896181d67e5c143f15781f518a9c}{operationMode}} : uint8\_t \{}
\DoxyCodeLine{00057     \mbox{\hyperlink{namespaceio_a6250896181d67e5c143f15781f518a9caeb0a191797624dd3a48fa681d3061212}{master}}=0,    }
\DoxyCodeLine{00058     \mbox{\hyperlink{namespaceio_a6250896181d67e5c143f15781f518a9ca03158cf39c6f316f9ce98a4e034cdc28}{slave}},       }
\DoxyCodeLine{00059     \mbox{\hyperlink{namespaceio_a6250896181d67e5c143f15781f518a9caf1df61b2a69dd4d7a1b7f3cbd37ecc1e}{submaster}}, }
\DoxyCodeLine{00060     \mbox{\hyperlink{namespaceio_a6250896181d67e5c143f15781f518a9ca0aaa87422396fdd678498793b6d5250e}{disable}}, }
\DoxyCodeLine{00061 \};}
\DoxyCodeLine{00062 }
\DoxyCodeLine{\Hypertarget{SPI_8h_source_l00063}\mbox{\hyperlink{namespaceio_a6bb01fa22d954e14af37b18832eb3de0}{00063}} \textcolor{keyword}{enum class} \mbox{\hyperlink{namespaceio_a6bb01fa22d954e14af37b18832eb3de0}{clockPrescaler}} : uint8\_t  \{}
\DoxyCodeLine{00064      \mbox{\hyperlink{namespaceio_a6bb01fa22d954e14af37b18832eb3de0ad01a2fba340e44606cb932b086f27a75}{PS\_4}} = 0,}
\DoxyCodeLine{00065      \mbox{\hyperlink{namespaceio_a6bb01fa22d954e14af37b18832eb3de0ab9652296e385e314ac2aa67878eacfe5}{PS\_16}},}
\DoxyCodeLine{00066      \mbox{\hyperlink{namespaceio_a6bb01fa22d954e14af37b18832eb3de0a97fb148ab1accd5462d69022d83b0ced}{PS\_64}},}
\DoxyCodeLine{00067      \mbox{\hyperlink{namespaceio_a6bb01fa22d954e14af37b18832eb3de0a5a748dfea8b6fda9f52e24f961378197}{PS\_128}},}
\DoxyCodeLine{00068      \mbox{\hyperlink{namespaceio_a6bb01fa22d954e14af37b18832eb3de0aca2ddd08703377bdfd1764242d8ff82e}{PS\_2}},}
\DoxyCodeLine{00069      \mbox{\hyperlink{namespaceio_a6bb01fa22d954e14af37b18832eb3de0ae31444bf5c3424161080f9d328fd7955}{PS\_8}},}
\DoxyCodeLine{00070      \mbox{\hyperlink{namespaceio_a6bb01fa22d954e14af37b18832eb3de0ae4540d7f3a807bc544222beb154275f3}{PS\_32}}}
\DoxyCodeLine{00071 \};}
\DoxyCodeLine{00072 }
\DoxyCodeLine{\Hypertarget{SPI_8h_source_l00073}\mbox{\hyperlink{namespaceio_a242f01d06c4916736d5e6471c20e0831}{00073}} \textcolor{keyword}{enum class} \mbox{\hyperlink{namespaceio_a242f01d06c4916736d5e6471c20e0831}{dataMode}} : uint8\_t  \{}
\DoxyCodeLine{00074      \mbox{\hyperlink{namespaceio_a242f01d06c4916736d5e6471c20e0831abc5a6aa41badf7ebef9899ce14d5e0cf}{mode\_0}} = 0,}
\DoxyCodeLine{00075      \mbox{\hyperlink{namespaceio_a242f01d06c4916736d5e6471c20e0831ae1e9130e17e60b2dce990bea6bb0c5da}{mode\_1}},}
\DoxyCodeLine{00076      \mbox{\hyperlink{namespaceio_a242f01d06c4916736d5e6471c20e0831a5efd453f68aac1ffc4156e76a7aebdfa}{mode\_2}},}
\DoxyCodeLine{00077      \mbox{\hyperlink{namespaceio_a242f01d06c4916736d5e6471c20e0831ac98b5521a0f9123f84e93c16a12b5b2c}{mode\_3}},}
\DoxyCodeLine{00078 \};}
\DoxyCodeLine{00079 }
\DoxyCodeLine{\Hypertarget{SPI_8h_source_l00080}\mbox{\hyperlink{namespaceio_af494ac258c21063118157796a4c2c38a}{00080}} \textcolor{keyword}{enum class} \mbox{\hyperlink{namespaceio_af494ac258c21063118157796a4c2c38a}{dataOrder}} : uint8\_t  \{}
\DoxyCodeLine{00081      \mbox{\hyperlink{namespaceio_af494ac258c21063118157796a4c2c38aabd912d35553f04e1ef9a3d9cebfbf4d4}{first\_MSB}} = 0,}
\DoxyCodeLine{00082      \mbox{\hyperlink{namespaceio_af494ac258c21063118157796a4c2c38aa43c822318360359370cbc66b5fdef6c5}{first\_LSB}}}
\DoxyCodeLine{00083 \};}
\DoxyCodeLine{00084 }
\DoxyCodeLine{00085 }
\DoxyCodeLine{\Hypertarget{SPI_8h_source_l00086}\mbox{\hyperlink{classio_1_1SPI}{00086}} \textcolor{keyword}{class }\mbox{\hyperlink{classio_1_1SPI}{SPI}}}
\DoxyCodeLine{00087 \{}
\DoxyCodeLine{00088 }
\DoxyCodeLine{00089 \textcolor{keyword}{public}:}
\DoxyCodeLine{00090     \textcolor{keyword}{static} \mbox{\hyperlink{classio_1_1SPI}{SPI}}\& \mbox{\hyperlink{classio_1_1SPI_abf4d67a5a737a0f69df6dcea76a2933f}{getInstance}}(\textcolor{keyword}{const} \mbox{\hyperlink{classio_1_1Pin}{io::Pin}} \&ar\_pinSCK,}
\DoxyCodeLine{00091                             \textcolor{keyword}{const} \mbox{\hyperlink{classio_1_1Pin}{io::Pin}} \&ar\_pinMISO,}
\DoxyCodeLine{00092                             \textcolor{keyword}{const} \mbox{\hyperlink{classio_1_1Pin}{io::Pin}} \&ar\_pinMOSI,}
\DoxyCodeLine{00093                             \textcolor{keyword}{const} \mbox{\hyperlink{classio_1_1Pin}{io::Pin}} \&ar\_pinSS);}
\DoxyCodeLine{00094 }
\DoxyCodeLine{00095     \textcolor{keywordtype}{void} \mbox{\hyperlink{classio_1_1SPI_a2a9926d31620abd652efb72ce2cfdc7c}{selectDataMode}}(\textcolor{keyword}{const} \mbox{\hyperlink{namespaceio_a242f01d06c4916736d5e6471c20e0831}{dataMode}}\& ar\_dataMode);}
\DoxyCodeLine{00096 }
\DoxyCodeLine{00097     \textcolor{keywordtype}{void} \mbox{\hyperlink{classio_1_1SPI_afd604e1c27b9ef4141569e87a471f511}{selectDataOrder}}(\textcolor{keyword}{const} \mbox{\hyperlink{namespaceio_af494ac258c21063118157796a4c2c38a}{dataOrder}}\& ar\_dataOrder);}
\DoxyCodeLine{00098 }
\DoxyCodeLine{00099     \textcolor{keywordtype}{void} \mbox{\hyperlink{classio_1_1SPI_a03445673246c118455f1dae536b13fe6}{selectOperationMode}}(\textcolor{keyword}{const} \mbox{\hyperlink{namespaceio_a6250896181d67e5c143f15781f518a9c}{operationMode}}\& ar\_operationMode);}
\DoxyCodeLine{00100 }
\DoxyCodeLine{00101     \textcolor{keywordtype}{void} \mbox{\hyperlink{classio_1_1SPI_a5327e09779fa47cc79a9cac8c663ff4f}{selectClockPrescaler}}(\textcolor{keyword}{const} \mbox{\hyperlink{namespaceio_a6bb01fa22d954e14af37b18832eb3de0}{clockPrescaler}}\& ar\_clockPrescaler);}
\DoxyCodeLine{00102 }
\DoxyCodeLine{00103     \textcolor{keywordtype}{void} \mbox{\hyperlink{classio_1_1SPI_a3ae645cca4de787c1b1811523c1a0edf}{selectSlave}}(\textcolor{keyword}{const} uint8\_t a\_select);}
\DoxyCodeLine{00104 }
\DoxyCodeLine{00107     uint8\_t \mbox{\hyperlink{classio_1_1SPI_a8325abdc67f44fe5a88700f3d608f32b}{writeCollision}}();}
\DoxyCodeLine{00108 }
\DoxyCodeLine{00111     uint8\_t \mbox{\hyperlink{classio_1_1SPI_a1ce7faff7e9baceadb966268b7c9e946}{transferComplete}}();}
\DoxyCodeLine{00112 }
\DoxyCodeLine{00113 }
\DoxyCodeLine{00114     \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{classio_1_1SPI_a29933e816f9fa4b04f74eafff24faef8}{enableTransferCompleteInterrupt}}(\textcolor{keyword}{const} uint8\_t a\_enable);}
\DoxyCodeLine{00115 }
\DoxyCodeLine{00116     \textcolor{keywordtype}{void} \mbox{\hyperlink{classio_1_1SPI_a6bfa762bd7ac8d81d626ffe4058d8ca4}{masterSendByte}}(\textcolor{keyword}{const} uint8\_t \&ar\_byte);}
\DoxyCodeLine{00117 }
\DoxyCodeLine{00118     \textcolor{keywordtype}{void} \mbox{\hyperlink{classio_1_1SPI_a3df58c4142b2e55642a4b887a4772fe0}{masterReceiveByte}}(uint8\_t \&ar\_byte);}
\DoxyCodeLine{00119 }
\DoxyCodeLine{00120     \textcolor{keywordtype}{void} \mbox{\hyperlink{classio_1_1SPI_aa46982669bc16063839ea475466ae95d}{slaveReceiveByte}}(uint8\_t \&ar\_byte);}
\DoxyCodeLine{00121 }
\DoxyCodeLine{\Hypertarget{SPI_8h_source_l00124}\mbox{\hyperlink{classio_1_1SPI_a5efc3bc7f88aeb65b71b12ec12e6f72e}{00124}}     \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{classio_1_1SPI_aaa71e7a3586645dbeb918d144a2ac7c0}{transferCompleteServiceRoutine}}() \_\_asm\_\_(\mbox{\hyperlink{ha__base_8h_a6388870e639eee9c0a69446876f1f8cc}{STR}}(\mbox{\hyperlink{ha__m328p_8h_a7c5bd5b0990e276b3bd7bfdd42f08aa4}{SPI\_TRANSFER\_COMPLETE\_INTERRUPT}})) \_\_attribute\_\_((\_\_signal\_\_, \mbox{\hyperlink{classio_1_1SPI_a5efc3bc7f88aeb65b71b12ec12e6f72e}{\_\_used\_\_}}, \mbox{\hyperlink{classio_1_1SPI_a774b840dc3733ff5e03b90e04e64b842}{\_\_externally\_visible\_\_}}));}
\DoxyCodeLine{00125 }
\DoxyCodeLine{00126 }
\DoxyCodeLine{00127 }
\DoxyCodeLine{00128 private:}
\DoxyCodeLine{00137     \mbox{\hyperlink{classio_1_1SPI}{SPI}}(const \mbox{\hyperlink{namespaceio}{io}}::\mbox{\hyperlink{classio_1_1Pin}{Pin}} \&ar\_pinSCK,}
\DoxyCodeLine{00138         const \mbox{\hyperlink{namespaceio}{io}}::\mbox{\hyperlink{classio_1_1Pin}{Pin}} \&ar\_pinMISO,}
\DoxyCodeLine{00139         const \mbox{\hyperlink{namespaceio}{io}}::\mbox{\hyperlink{classio_1_1Pin}{Pin}} \&ar\_pinMOSI,}
\DoxyCodeLine{00140         const \mbox{\hyperlink{namespaceio}{io}}::\mbox{\hyperlink{classio_1_1Pin}{Pin}} \&ar\_pinSS);}
\DoxyCodeLine{00141 }
\DoxyCodeLine{00144     \string~\mbox{\hyperlink{classio_1_1SPI}{SPI}}();}
\DoxyCodeLine{00145 }
\DoxyCodeLine{00148     \mbox{\hyperlink{classio_1_1SPI}{SPI}}(const \mbox{\hyperlink{classio_1_1SPI}{SPI}}\&);}
\DoxyCodeLine{00149 }
\DoxyCodeLine{00152     const \mbox{\hyperlink{classio_1_1SPI}{SPI}}\& operator=(const \mbox{\hyperlink{classio_1_1SPI}{SPI}}\&);}
\DoxyCodeLine{00153 }
\DoxyCodeLine{\Hypertarget{SPI_8h_source_l00154}\mbox{\hyperlink{classio_1_1SPI_ad8414fbb0f1fda580616b0c4d5e3bd70}{00154}}     static volatile uint8\_t \mbox{\hyperlink{classio_1_1SPI_ad8414fbb0f1fda580616b0c4d5e3bd70}{m\_data}};}
\DoxyCodeLine{00155 }
\DoxyCodeLine{\Hypertarget{SPI_8h_source_l00156}\mbox{\hyperlink{classio_1_1SPI_adf2a5a222371c008ebdfee2900cca996}{00156}}     \mbox{\hyperlink{namespaceio}{io}}::\mbox{\hyperlink{classio_1_1Pin}{Pin}} \mbox{\hyperlink{classio_1_1SPI_adf2a5a222371c008ebdfee2900cca996}{m\_pinSCK}}; }
\DoxyCodeLine{\Hypertarget{SPI_8h_source_l00157}\mbox{\hyperlink{classio_1_1SPI_acda080ae9a8f293b99c7e803aa81e5d7}{00157}}     \mbox{\hyperlink{namespaceio}{io}}::\mbox{\hyperlink{classio_1_1Pin}{Pin}} \mbox{\hyperlink{classio_1_1SPI_acda080ae9a8f293b99c7e803aa81e5d7}{m\_pinMISO}}; }
\DoxyCodeLine{\Hypertarget{SPI_8h_source_l00158}\mbox{\hyperlink{classio_1_1SPI_a931201eedb0ef1b1359986616b6f845c}{00158}}     \mbox{\hyperlink{namespaceio}{io}}::\mbox{\hyperlink{classio_1_1Pin}{Pin}} \mbox{\hyperlink{classio_1_1SPI_a931201eedb0ef1b1359986616b6f845c}{m\_pinMOSI}}; }
\DoxyCodeLine{\Hypertarget{SPI_8h_source_l00159}\mbox{\hyperlink{classio_1_1SPI_a461a260c93a2629e911f5dccc08fc424}{00159}}     \mbox{\hyperlink{namespaceio}{io}}::\mbox{\hyperlink{classio_1_1Pin}{Pin}} \mbox{\hyperlink{classio_1_1SPI_a461a260c93a2629e911f5dccc08fc424}{m\_pinSS}}; }
\DoxyCodeLine{00167 \};}
\DoxyCodeLine{00168 }
\DoxyCodeLine{00169 \}}
\DoxyCodeLine{00170 \textcolor{preprocessor}{\#endif // SPI\_H}}

\end{DoxyCode}
